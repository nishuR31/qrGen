<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>QR Code Generator (CSR)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* For the blurry background QR */
    #qr-bg canvas {
      filter: blur(5px) opacity(75%);
      transform: scale(2.5);
    }
  </style>
</head>
<body class="relative min-h-screen flex items-center justify-center overflow-hidden bg-gray-900">
  
  <!-- Blurry QR Background -->
  <div id="qr-bg" class="absolute inset-0 flex items-center justify-center -z-10"></div>
  
  <!-- Foreground Card -->
  <div class="bg-white/20 backdrop-blur-xl shadow-2xl rounded-3xl p-8 w-full max-w-md border border-white/30">
    <h1 class="text-3xl font-bold text-center mb-6 text-white drop-shadow-lg">
      QR Code Generator
    </h1>

    <div class="space-y-4">
      <input 
        id="text" 
        placeholder="Enter text or URL" 
        value="https://example.com"
        class="w-full px-4 py-3 border border-white/40 bg-white/20 text-white rounded-xl 
               placeholder-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none"
      />

      <div class="flex gap-3">
        <button 
          onclick="makeQR()" 
          class="flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 rounded-xl font-medium 
                 hover:opacity-90 transition"
        >
          Generate
        </button>
        <button 
          onclick="downloadQR()" 
          class="flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-medium 
                 hover:opacity-90 transition"
        >
          Download
        </button>
      </div>

      <div id="qrcode" class="flex justify-center mt-6 bg-white p-4 rounded-2xl shadow-lg"></div>
    </div>
  </div>

  <script>
    const qrcodeDiv = document.getElementById("qrcode");
    const qrBgDiv = document.getElementById("qr-bg");
    let qrcode, qrcodeBg;

    function makeQR() {
      const text = document.getElementById("text").value;
      qrcodeDiv.innerHTML = ""; 
      qrBgDiv.innerHTML = ""; 

      // Foreground QR
      qrcode = new QRCode(qrcodeDiv, {
        text: text,
        width: 256,
        height: 256,
        correctLevel: QRCode.CorrectLevel.H
      });

      // Background QR
      qrcodeBg = new QRCode(qrBgDiv, {
        text: text,
        width: 400,
        height: 400,
        colorDark: "#60a5fa",   // Tailwind blue-400
        colorLight: "#0f172a",  // Tailwind slate-900
        correctLevel: QRCode.CorrectLevel.L
      });
    }

    function downloadQR() {
      const canvas = qrcodeDiv.querySelector("canvas");
      if (!canvas) return;
      const a = document.createElement("a");
      a.href = canvas.toDataURL("image/png");
      a.download = "qrcode.png";
      a.click();
    }

    makeQR(); // initial render
  </script>
</body>
  </html>
  
